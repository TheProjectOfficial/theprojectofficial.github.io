<!-- YALL BETTER ENJOY THIS COUNTDOWN (DOING THE AUDIO WAS SO BUGGY HELP) -->
<!-- BY HOSHIREP @ HOSHISPACE.LINK -->
<!-- CREDITS TO SYSTEMSPACE.NETWORK (SYSTEMSPACE.LINK ARCHIVE) I TOOKS SOME RESOURCES LIKE AUDIO ETC FROM THEM. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="res/js/actor.js"></script>
    <title>HOSHI</title>
    <script>
        // Create Howl instances for both audio files
        var audio1 = new Howl({
            src: ['https://theprojectofficial.github.io/stuff/nnintro.ogg'],
            volume: 0.7, // Set volume to 0.7
            onend: function() {
                // When audio1 finishes, play audio2
                audio2.play();
            }
        });
        
        var audio2 = new Howl({
            src: ['https://theprojectofficial.github.io/stuff/nnloop.ogg'],
            volume: 0.7, // Set volume to 0.7
            loop: true
        });

        var start = new Howl({
            src: ['https://theprojectofficial.github.io/new/audio/start.wav'],
            volume: 0.7, // Set volume to 0.7
            loop: true
        });

        var resetsnd = new Howl({
            src: ['https://theprojectofficial.github.io/stuff/reset.ogg'],
            volume: 0.7, // Set volume to 0.7
            loop: false
        });
        
        // Start the loop by playing audio1
        
        start.play();

        // PLAY IN LAST HOUR
        //audio1.play();

        // Example of timeRemaining (this would come from your timer logic)
        var timeRemaining = 25000; // 25 seconds for this example

        // Function to check if timeRemaining is less than or equal to 30000 (30 seconds) and fade audio2
        function checkAndFadeAudio() {
            if (timeRemaining <= 30000) {
                audio2.fade(0.7, 0, 10000); // Fade audio2 from volume 0.7 to 0 in 10 seconds
            }
        }

        function setBackgroundColor(color) {
            document.body.style.backgroundColor = color;
        }
    </script>
    <script>
        $(document).ready(function() {
            console.log("Initializing starfield...");

            $('#starfield-container').starfield({
                starColor: "rgba(255,255,255,0.8)", // Color of the stars
                bgColor: "rgba(0,0,0,1)", // Use 'background' instead of 'bgColor'
                mouseMove: true, // Enable mouse move effect
                fps: 30, // Frame per second
                speed: -15, // Speed of stars
                quantity: 500, // Number of stars
                ratio: 200 // Star distance ratio
            });
        });

    </script>
    <style>
        @font-face {
            font-family: "Heading";
            src: url(res/fonts/abr.ttf);
        }
        @font-face {
            font-family: "ABR";
            src: url(res/fonts/abr.ttf);
        }

        body {

            /* background: linear-gradient(180deg, #000, #300); */
            font-family: "ABR", sans-serif;
            height: 100vh;
            overflow: hidden;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        #starfield-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
        }

        .fade-image {
            width: 1000px;
            max-height: 5000px;
            height: auto;
            opacity: 0; /* Start with the image hidden */
            transition: opacity 8s ease-out; /* Transition for the fade effect */
        }

        .fade {
            opacity: 0;
        }

        html {
            /* cursor: url("res/cursor/cursor.png"), pointer; */

            -webkit-touch-callout: none;
            /* iOS Safari */
            -webkit-user-select: none;
            /* Safari */
            -khtml-user-select: none;
            /* Konqueror HTML */
            -moz-user-select: none;
            /* Firefox */
            -ms-user-select: none;
            /* Internet Explorer/Edge */
            user-select: none;
            /* Non-prefixed version, currently
            supported by Chrome and Opera */
        }

        a {
            text-decoration: none;
        }

        #colorlay {
            position: fixed;
            left: -200%;
            top: -200%;
            right: -200%;
            bottom: -200%;
            z-index: 100000;
            /*  background: linear-gradient(0deg, #F20 35%, #F10 40%, #C01 45%, #F00 50%, #D10 55%, #E02 60%, #F20 65%); */
            background: linear-gradient(0deg, #F20 35%, #FF6600 40%, #F10 45%, #C01 50%, #F00 55%, #D10 60%, #E02 65%, #FF6600 70%);
            mix-blend-mode: multiply;
            pointer-events: none;
            animation: 3s rot linear infinite;
        }

        #whitelay {
            position: fixed;
            left: -200%;
            top: -200%;
            right: -200%;
            bottom: -200%;
            z-index: 100000;
            background: linear-gradient(0deg, #FFF 35%, #EEE 40%, #DDD 45%, #FFF 50%, #EEE 55%, #F8F8F8 60%, #FFF 65%);
            mix-blend-mode: screen; /* Adjust blend mode if needed */
            pointer-events: none;
            animation: 3s rot linear infinite;
        }

        @keyframes rot {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        #starfield { 
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 0;
            opacity: 0;
        }

        .active #starfield {
            opacity: 1;
            transition: 2s 0.7s opacity;
        }

        #timeblock {
            background-color: rgba(30,30,30,0.4);
            display: block;
            width: 85vw;
            scale: 1.05;
            margin-top: -0.315vw;
            box-shadow: 0px 0px 64px rgba(255,255,255,0.7);
            border: 0.2vw solid #FFF;
            transform: translateY(100vh); /* Initially off-screen */
            transition: transform 1s ease-in-out;
            animation: popUp 0.75s ease-out forwards;
            display: flex;
            flex-direction: column-reverse;
            align-items: center;
            justify-content: center;
        }

        .startAnimation {
            animation: popUp 0.75s ease-out forwards;
        }

        .active #timeblock {
            transform: translateY(0); /* Bring it into view */
        }

        #addendum {
            background-color: #FFF;
            color: #000;
            text-align: center;
            scale: 1.05;
            display: block;
            width: 84.8vw;
            margin-top: -1.25vw;
            box-shadow: 0px 0px 64px rgba(255,255,255,0.7);
            font-family: ABR;
            padding: 0 0.25vw;
            /* animation: popUp2 0.25s ease-out forwards; */
            font-size: 1vw;
            transform: translateY(100vh); /* Initially off-screen */
            transition: transform 1s ease-in-out;
        }

        .active #addendum {
            transform: translateY(0); /* Bring it into view */
        }

        .stack {
            position: absolute;
            box-shadow: 0px 0px 64px rgba(255,255,255,0.7);
            font-size: 2vw;
            color: #F00;
            border: 0.2vw solid #FFF;
            width: 100%;
            top: -3.55vw; /* Adjust this value to move it above */
            left: 50%;
            transform: translateX(-50%);
            text-align: left;
        }

        .connectedstack {
            position: absolute;
            box-shadow: 0px 0px 64px rgba(255,255,255,0.7);
            font-size: 2vw;
            color: #F00;
            border: 0.2vw solid #FFF;
            width: 100%;
            top: -3.55vw; /* Adjust this value to move it above */
            left: 50%;
            transform: translateX(-50%);
            text-align: left;
        }

        @keyframes popUp2 {
            0% {
                transform: translateY(1000%); 

            }
            100% {
                transform: translateY(0); 
            }
        }

        @keyframes popUp {
            0% {
                transform: translateY(500%); 

            }
            100% {
                transform: translateY(0); 
            }
        }

        .stack2 {
            position: absolute;
            box-shadow: 0px 0px 64px rgba(255,255,255,0.7);
            font-size: 2vw;
            color: #F00;
            border: 0.2vw solid #FFF;
            width: 100%;
            top: -7.9vw; /* Adjust this value to move it above */
            left: 50%;
            transform: translateX(-50%);
            text-align: left;
        }

        .booting .stack {
            opacity: 1;
            transition: 0.5s opacity;
        }

        #counter {
            font-family: ABR;
            text-align: center;
            font-size: 12vw;
            color: #FAFAFA;
            z-index: 1;
            margin: 2vw 0;
            margin-top: 0;
            animation: ShadowMoveLoop 9.5s linear alternate infinite;
        }

        @keyframes ShadowMoveLoop {
            0%   { text-shadow: -8px -12px 16px rgba(255,255,255, 0.2), 3px 9px 8px rgba(255,255,255, 0.2), -14px 8px 13px rgba(255,255,255, 0.2), 9px -2px 5px rgba(255,255,255, 0.2); }
            10%  { text-shadow: -2px -16px 16px rgba(255,255,255, 0.2), 6px 2px 8px rgba(255,255,255, 0.2), -12px 5px 13px rgba(255,255,255, 0.2), 7px -8px 5px rgba(255,255,255, 0.2); }
            20%  { text-shadow: -6px -12px 16px rgba(255,255,255, 0.2), 3px 4px 8px rgba(255,255,255, 0.2), -09px 4px 13px rgba(255,255,255, 0.2), 4px -6px 5px rgba(255,255,255, 0.2); }
            30%  { text-shadow: -4px -17px 16px rgba(255,255,255, 0.2), 7px 6px 8px rgba(1,1,1, 0.2), -17px 2px 13px rgba(255,255,255, 0.2), 2px -4px 5px rgba(255,255,255, 0.2); }
            40%  { text-shadow: -9px -13px 16px rgba(255,255,255, 0.2), 8px 3px 8px rgba(255,255,255, 0.2), -14px 6px 13px rgba(255,255,255, 0.2), 8px -9px 5px rgba(255,255,255, 0.2); }
            50%  { text-shadow: -2px -16px 16px rgba(255,255,255, 0.2), 3px 7px 8px rgba(255,255,255, 0.2), -19px 3px 13px rgba(255,255,255, 0.2), 4px -5px 5px rgba(255,255,255, 0.2); }
            60%  { text-shadow: -3px -13px 16px rgba(255,255,255, 0.2), 2px 4px 8px rgba(255,255,255, 0.2), -14px 7px 13px rgba(255,255,255, 0.2), 8px -4px 5px rgba(255,255,255, 0.2); }
            70%  { text-shadow: -4px -18px 16px rgba(1,1,1, 0.2), 9px 6px 8px rgba(255,255,255, 0.2), -12px 9px 13px rgba(255,255,255, 0.2), 4px -8px 5px rgba(255,255,255, 0.2); }
            80%  { text-shadow: -2px -13px 16px rgba(255,255,255, 0.2), 5px 2px 8px rgba(255,255,255, 0.2), -16px 4px 13px rgba(255,255,255, 0.2), 9px -3px 5px rgba(255,255,255, 0.2); }
            90%  { text-shadow: -5px -14px 16px rgba(255,255,255, 0.2), 3px 7px 8px rgba(255,255,255, 0.2), -13px 8px 13px rgba(255,255,255, 0.2), 3px -1px 5px rgba(255,255,255, 0.2); }
            100% { text-shadow: -7px -17px 16px rgba(255,255,255, 0.2), 0px 4px 8px rgba(255,255,255, 0.2), -11px 3px 13px rgba(1,1,1, 0.2), 6px -6px 5px rgba(255,255,255, 0.2); }
        }

        #minutes, #seconds, #ms {
            font-size: 11vw;
        }

        #days {
            font-size: 11vw;
            color: transparent;
            -webkit-text-stroke: 0.2vw #FAFAFA; 
            text-stroke: 0.2vw #FAFAFA;
            font-size: 11.7vw;
            animation: 9.5s ShadowMoveLoopSec linear alternate infinite;
        }

        #hours {
            font-size: 11vw;
            color: transparent;
            -webkit-text-stroke: 0.2vw #FAFAFA; 
            text-stroke: 0.2vw #FAFAFA;
            font-size: 11.7vw;
            animation: 9.5s ShadowMoveLoopSec linear alternate infinite;
        }

        #minutes {
            font-size: 11vw;
        }

        #seconds {
            color: transparent;
            -webkit-text-stroke: 0.2vw #FAFAFA; 
            text-stroke: 0.2vw #FAFAFA;
            font-size: 11.7vw;
            animation: 9.5s ShadowMoveLoopSec linear alternate infinite;
        }

        #seperator {
            font-size: 11vw;
            color: transparent;
            -webkit-text-stroke: 0.2vw #FAFAFA; 
            text-stroke: 0.2vw #FAFAFA;
            font-size: 11.7vw;
            animation: 9.5s ShadowMoveLoopSec linear alternate infinite;
        }

        #seperate {
            color: transparent;
            -webkit-text-stroke: 0.2vw #FAFAFA; 
            text-stroke: 0.2vw #FAFAFA;
            font-size: 11.7vw;
            animation: 9.5s ShadowMoveLoopSec linear alternate infinite;
        }

        #ms {
            font-size: 4.5vw;
            opacity: 0.5;
        }

        .move {
            animation: slightMove 5s ease-in-out infinite;
        }

        @keyframes slightMove {
            0% {
                transform: translate(0, 0);
            }
            50% {
                transform: translate(5px, 5px); 
            }
            100% {
                transform: translate(0, 0);
            }
        }

        #description {
            font-family: Heading;
            text-align: center;
            /* animation: popUp2 0.25s ease-out forwards; */
            font-size: 1.5vw;
            color: #FAFAFA;
            z-index: 1;
            margin-top: -5.5vw;
            margin-bottom: 2vw;
            transition: opacity 8s;
        }

        #return {
            font-family: Heading;
            position: fixed;
            transition: text-shadow 0.2s ease;
            text-align: center;
            bottom: 1em;
            width: 100vw;
            left: 0;
            font-size: 1.2em;
            color: #FAFAFA;
            z-index: 1;
            opacity: 0.1;
        }

        .active #return {
            opacity: 0.8;
            transition: 1s 0.7s opacity;
        }

        .key {
            background-color: #FFF;
            font-family: ABR;
            color: #FFF;
            font-size: 2vw;
            display: inline-block;
            width: 10vw;
            height: 3vw;
            text-align: center;
            padding-bottom: 0.3vw;
            box-shadow: 0px 0px 64px rgba(255,255,255,0.7);
            color: #000;
            line-height: 3.2vw;
        }

        .connected {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #FFF;
            font-family: ABR;
            color: #FFF;
            font-size: 2vw;
            display: inline-block;
            width: 10vw;
            height: 3vw;
            text-align: center;
            padding-bottom: 0.3vw;
            box-shadow: 0px 0px 64px rgba(255,255,255,0.7);
            color: #000;
            line-height: 3.2vw;
        }

        .fade-out {
            opacity: 0;
            transition: opacity 0.1s ease-out; /* Fast fade-out */
        }

        .key2 {
            background-color: #FFF;
            font-family: ABR;
            font-size: 2.75vw;
            display: inline-block;
            width: 8vw;
            height: 4vw;
            text-align: center;
            padding-bottom: 0.3vw;
            box-shadow: 0px 0px 64px rgba(255,255,255,0.7);
            color: #000;
            line-height: 3.2vw;
        }

        /* Starfield Canvas */
        #starCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
        }

        #timeblock, #addendum, #description {
            transition: opacity 0.3s ease-out;
        }

        /* Define the fade-out animation */
        .fade-out {
            animation: fadeOut 0.3s ease-out forwards;
        }

        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        .flash {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: white;
            opacity: 0;
            pointer-events: none; /* Make sure it doesn't block clicks or interactions */
            z-index: 9999; /* Ensures the flash is on top of everything */
            transform: scale(0);
            transform-origin: center;
        }

        @keyframes flashAnimation {
            0% {
                opacity: 0.5;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1);
            }
            75% {
                opacity: 0.5;
                transform: scale(1);
            }
            100% {
                opacity: 0;
                transform: scale(1);
            }
        }

        @keyframes shakeII {
            0%   { transform: translateX(-2px) translateY( 2px); }
            10%  { transform: translateX( 0px) translateY(-4px); }
            20%  { transform: translateX( 4px) translateY(-7px); }
            30%  { transform: translateX(-4px) translateY( 6px); }
            40%  { transform: translateX( 0px) translateY(-4px); }
            50%  { transform: translateX( 6px) translateY( 3px); }
            60%  { transform: translateX(-4px) translateY( 0px); }
            70%  { transform: translateX( 2px) translateY( 6px); }
            80%  { transform: translateX(-4px) translateY(-4px); }
            90%  { transform: translateX( 0px) translateY( 2px); }
            100% { transform: translateX(-6px) translateY( 0px); }
        }

        @keyframes gentleShake {
            0%   { transform: translateX(-1px) translateY(0px); }
            25%  { transform: translateX(1px) translateY(0px); }
            50%  { transform: translateX(-1px) translateY(0px); }
            75%  { transform: translateX(1px) translateY(0px); }
            100% { transform: translateX(0px) translateY(0px); }
        }

        /* Shake animation */
        @keyframes shake {
            0%   { transform: translateX(-5px) translateY(0px); }
            10%  { transform: translateX(5px) translateY(0px); }
            20%  { transform: translateX(-5px) translateY(0px); }
            30%  { transform: translateX(5px) translateY(0px); }
        }

        /* Class to trigger the shake animation */
        .shake {
            animation: shakeII 0.5s ease-in-out infinite;
        }

        .aftermath {
            animation: shake 0.5s ease-in-out infinite;
        }

        .active #starCanvas {
            opacity: 1;
            transition: 2s 0.7s opacity;
        }

        #timeblock, #addendum, #description {
            transition: all 0.3s ease-in-out;
        }

        #shakeContainer {
            opacity: 1;  /* Initially visible */
            transition: opacity 0.5s ease-in;
            display: block;  /* Ensure it's displayed from the start */
        }

        #timeblock, #addendum, #description {
            opacity: 1;
            transform: scale(1);
        }

        #shakeContainer span {
            color: #FFF;
        }

        #axis1, #axis2, #axis3, #axis4 {
            position: fixed;
            left: 0;
            top: 0;
            right: -63px;
            bottom: 0;
            z-index: 1000;
            background-image: url("https://tm.systemspace.network/unlink/stuff/axis.png");
            background-repeat: repeat;
            pointer-events: none;
            mix-blend-mode: lighten;
            transform: rotate(0.0001deg);
            opacity: 0;

            animation: 1.25s AxisScroll linear infinite;
        }

        #axis2 {
            animation-direction: reverse;
            background-position: 0px 16px;
        }

        #addendum, #description {
            animation: popUp 0.70s ease-out forwards;
        }

        #axis3 {
            animation-duration: 5s;
            background-position: 0px 8px;
        }

        #axis4 {
            animation-duration: 5s;
            animation-direction: reverse;
            background-position: 0px 24px;
        }

        .booting #axis1,
        .booting #axis2,
        .booting #axis3,
        .booting #axis4 {
            opacity: 0.2;
            transition: 3s opacity;
        }

        @keyframes AxisScroll {
            from {
                transform: rotate(0.0001deg) translateX(0px);
            }
            to {
                transform: rotate(0.0001deg) translateX(-63px);
            }
        }
    </style>
</head>
<body>
    <img src="res/img/connected.png" alt="Image" class="fade-image" id="image">
    <div id="colorlay"></div>
    
    <div id="starfield-container"></div>
    <!-- <canvas id="starCanvas"></canvas> -->


    <div class="move">

        <div id="timeblock">
            <div id="shakeContainer" class="stack"><div class="key">AURORA</div> <span style="color: #FFF;">DISCONNECTED</span></div>
            <div id="counter">
                <!-- MINUTES ONLY <span id="minutes">00</span><span id="separate">:</span><span id="seconds">00</span><span id="ms">.00</span> -->
                <span id="days">00</span><span id="seperator">:</span><span id="hours">00</span>:<span id="minutes">00</span><span id="seperator">:</span><span id="seconds">00</span><span id="ms">.000</span>
            </div>
        </div>

        <div class="startAnimation">

            <!-- Addendum container -->
            <div id="addendum">
                Once this timer hits 0, Connections to Aurora will be made. After this happens, there will be a Maintenance to ensure a Safe connection. after a few days, Auroraric Power will be able to be used Again and our servers will be back up.
            </div>
                
            <div id="description">until Aurora is reconnected</div>

        </div>
    
    </div>
    <div id="return">HOSHISPACE.LINK / RECONNECT</div>

    <div id="axis1"></div>
    <div id="axis2"></div>
    <div id="axis3"></div>
    <div id="axis4"></div>

    <script src="res/js/afst.js"></script>

    <script>
        let sixtyPlayed = false; // Ensure 60-second audio plays only once
        let fiftyPlayed = false;
        let fourtyPlayed = false;
        let thirtyPlayed = false;
        let onetwentyPlayed = false;
        let countdownPlayed = false; // Ensure countdown from 20 to 1 plays once
        let lastSecond = -1; // Track the last second that triggered a countdown number
    
        function playOneTwentyCountdown() {
            if (sixtyPlayed) return; // Prevent multiple triggers for 60 seconds
            sixtyPlayed = true;
    
            let chain = ["number_120", "seconds", "remaining"]; // "Remaining 60 seconds"
            chainSfx(chain);
        }

        // Helper function to play "60 seconds remaining"
        function playSixtyCountdown() {
            if (sixtyPlayed) return; // Prevent multiple triggers for 60 seconds
            sixtyPlayed = true;
    
            let chain = ["number_060", "seconds", "remaining"]; // "Remaining 60 seconds"
            chainSfx(chain);
        }

        function playFiftyCountdown() {
            if (fiftyPlayed) return; // Prevent multiple triggers for 60 seconds
            fiftyPlayed = true;
    
            let chain = ["number_050", "seconds", "remaining"]; // "Remaining 60 seconds"
            chainSfx(chain);
        }

        function playFourtyCountdown() {
            if (fourtyPlayed) return; // Prevent multiple triggers for 60 seconds
            fourtyPlayed = true;
    
            let chain = ["number_040", "seconds", "remaining"]; // "Remaining 60 seconds"
            chainSfx(chain);
        }

        function playthirtyCountdown() {
            if (thirtyPlayed) return; // Prevent multiple triggers for 60 seconds
            thirtyPlayed = true;
    
            let chain = ["number_030", "seconds", "remaining"]; // "Remaining 60 seconds"
            chainSfx(chain);
        }

        function startTypingAnimation() {
            const element = document.getElementById('return');
            const text = "CONNECTING AURORA...";
            let i = 0;
            element.textContent = ''; // Clear current text
            
            // Add a glowing effect
            element.style.textShadow = "0 0 15px rgba(255, 255, 255, 0.5), 0 0 25px rgba(255, 255, 255, 0.5)";
            element.style.fontSize = "60px";

            const intervalId = setInterval(function() {
            if (i < text.length) {
                element.textContent += text[i]; // Add one character at a time
                i++;
            } else {
                clearInterval(intervalId); // Stop when all characters are added
            }
            }, 250); // Change the 100 to adjust typing speed (milliseconds)
        }

        // Function to shrink and disappear all elements
        function shrinkAndDisappear() {
            const timeblock = document.getElementById('timeblock');
            const addendum = document.getElementById('addendum');
            const description = document.getElementById('description');
            
            // Apply CSS styles to shrink and hide the elements
            timeblock.style.transition = 'all 0.3s ease-in-out';
            addendum.style.transition = 'all 0.3s ease-in-out';
            description.style.transition = 'all 0.3s ease-in-out';

            // Shrink elements
            timeblock.style.transform = 'scale(0)';
            addendum.style.transform = 'scale(0)';
            description.style.transform = 'scale(0)';
            
            // Fade out elements
            timeblock.style.opacity = '0';
            addendum.style.opacity = '0';
            description.style.opacity = '0';
            
            // Optional: Remove elements after transition (to make them truly disappear)
            setTimeout(() => {
                timeblock.style.display = 'none';
                addendum.style.display = 'none';
                description.style.display = 'none';
            }, 300); // matches the duration of the transition
        }

        // Function to change text to "CONNECTED"
        function fadeInAndConnect() {
            const shakeContainer = document.getElementById('shakeContainer');
            const statusText = shakeContainer.querySelector('span');

            // Ensure shakeContainer is visible
            shakeContainer.style.display = 'block'; // Ensure it's visible
            shakeContainer.style.transition = 'opacity 0.5s ease-in';

            // Start with the fade-in transition by changing opacity to 1
            shakeContainer.style.opacity = '1';

            // Change text from DISCONNECTED to CONNECTED
            statusText.textContent = 'CONNECTED';
        }


        function removeColorlay() {
            const colorlay = document.getElementById('colorlay');
            if (colorlay) {
                colorlay.remove();  // Remove the div from the DOM
            }
        }
    
        // Helper function to play countdown from 20 to 1 seconds
        function playCountdown() {
            if (countdownPlayed) return; // Prevent multiple triggers for countdown
            countdownPlayed = true;
    
            let i = 20;
            let countdownInterval = setInterval(function() {
                let chain = [formatNumberForSpeech(i)]; // Only the number (20, 19, etc.)
                chainSfx(chain);
    
                i--; // Decrease the number after each call
    
                if (i < 1) {
                    clearInterval(countdownInterval); // Stop when the countdown is done
                }
            }, 1000); // 1-second interval between each countdown number
        }

        function triggerFlash() {
            // Create the flash div
            const flashDiv = document.createElement('div');
            flashDiv.classList.add('flash');
        
            // Append to the body
            document.body.appendChild(flashDiv);
            
            // Trigger the animation
            flashDiv.style.animation = 'flashAnimation 1s ease-out forwards';
            
            // Remove the flash div after the animation ends
            flashDiv.addEventListener('animationend', () => {
                flashDiv.remove();
            });
        }
    
        // Helper function to chain the sound effects
        function chainSfx(chain) {
            let el = chain.shift();
            if (!el) return; // Stop when chain is empty
    
            new Howl({
                src: `https://theprojectofficial.github.io/res/audio/sfx/speech_${el}_en.ogg`,
                autoplay: true,
                volume: 1.5,
                onend: function () {
                    chainSfx(chain); // Play the next sound in the chain
                }
            });
        }

        function setBackgroundToBlack() {
            document.body.style.background = "black"; // Sets the background to solid black
            document.body.style.backgroundImage = "none"; // Remove any gradient or background image
        }

        function fadeOutElements() {
            // Select elements you want to fade out
            document.querySelectorAll("#timeblock, #addendum, #description").forEach(el => {
                el.classList.add("fade-out"); // Add the fade-out class to trigger animation
            });
        }
    
        // Helper function to format numbers with zero-padding
        function formatNumberForSpeech(num) {
            return `number_${num.toString().padStart(3, "0")}`;
        }

        function fadeInImage() {
            const image = document.getElementById('image');
            image.style.opacity = 1; // Make the image visible with a fade effect
        }
    
        // Set the target date for the countdown (example: 2025, March 5th, 12:00:00)
        const targetDate = new Date("April 25, 2025 20:00:00").getTime();
        
        let fadeInitiated = false;
    
        // Update the countdown every 10 milliseconds
        const timerInterval = setInterval(function() {
            const now = new Date().getTime(); // Get current time
            const timeRemaining = targetDate - now; // Calculate time remaining

            if (timeRemaining <= 60000 && !sixtyPlayed) {
                console.log("Triggering 60-minute countdown audio...");
                playSixtyCountdown();
            }

            if (timeRemaining <= 50000 && !fiftyPlayed) {
                console.log("Triggering 50-seconds countdown audio...");
                playFiftyCountdown();
            }

            if (timeRemaining <= 40000 && !fourtyPlayed) {
                console.log("Triggering 40-seconds countdown audio...");
                playFourtyCountdown();
            }

            if (timeRemaining <= 30000 && !thirtyPlayed) {
                console.log("Triggering 30-seconds countdown audio...");
                playthirtyCountdown();
            }
    
            if (timeRemaining <= 22000 && !countdownPlayed) {
                console.log("Triggering countdown from 20 seconds...");
                playCountdown();
            }

            if (timeRemaining <= 5000) {
                console.log("Font increase");
                increaseFontSize();
            }
    
            if (timeRemaining <= 30000 && !fadeInitiated) {
                console.log("Successfully checked 30 seconds left");
    
                // Initiate the fade out effect for audio2
                audio2.fade(audio2.volume(), 0, 10000); // Fade audio2 from its current volume to 0 over 10 seconds
                fadeInitiated = true; // Set the flag to prevent multiple fade executions
            }

            if (timeRemaining <= 500) {
                disappearFast();
                shrinkAndDisappear();
                //fadeOutStars();
                //fadeOutElements();
                document.getElementById("return").classList.add("shake");
            }
    
            // If the countdown is finished, stop the interval
            if (timeRemaining <= 0) {
                setBackgroundToBlack();
                removeColorlay();
                triggerFlash();
                //startExtremeShake();

                const element = document.getElementById('return');
                element.style.position = 'absolute';
                element.style.top = '50%';
                element.style.left = '0%';
                element.style.transform = 'translate(-50%, -50%)';
                element.style.fontSize = "60px";

                resetsnd.play();

                setTimeout(function() {
                    document.getElementById("return").innerText = "â•£â”´xâŒ‚Ã»wâ™£!Ã±â—™Âµ2Ã–â•£â”´xâŒ‚Ã»wâ™£!Ã±â—™Âµ2Ã–â•£â”´xâŒ‚Ã»wâ™£!Ã±â—™Âµ2Ã–";
                }, 6044); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "Ã²1â•’.ÃªâŒ â–Œ(^mÃ²1â•’.ÃªâŒ â–Œ(^mÃ²1â•’.ÃªâŒ â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^m";
                }, 6577); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "mâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^m";
                    document.getElementById("return").innerText = "mâ•’â”´y(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²(^mmâ•’â”´yâ–Œ(^m";
                    document.getElementById("return").innerText = "mâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^m";
                    document.getElementById("return").innerText = "mâ•’â”´y(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²(^mmâ•’â”´yâ–Œ(^m";
                    document.getElementById("return").innerText = "mâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^m";
                    document.getElementById("return").innerText = "mâ•’â”´y(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²(^mmâ•’â”´yâ–Œ(^m";
                    document.getElementById("return").innerText = "mâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^m";
                    document.getElementById("return").innerText = "mâ•’â”´y(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²(^mmâ•’â”´yâ–Œ(^m";
                }, 6944); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "â”´yMÆ’â•’Î´â‚§9Ã³mÂ¥Î©â”´yMÆ’â•’Î´â‚§9Ã³mÂ¥Î©â”´yMÆ’â•’Î´â‚§9Ã³mÂ¥Î©";
                }, 7511); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "âŒ â–Œ(^mÃ²1â•’.ÃªâŒ â–Œ(^mâŒ â–Œ(^mÃ²1â•’.ÃªâŒ â–Œ(^mâŒ â–Œ(^mÃ²1â•’.ÃªâŒ â–Œ(^m";
                }, 7811); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "â”´yMÆ’â•’Î´â‚§9Ã³â”´yMÆ’â•’Î´â‚§9Ã³â”´yMÆ’â•’Î´â‚§9Ã³â”´yMÆ’â•’Î´â‚§9Ã³";
                }, 8011);

                setTimeout(function() {
                    document.getElementById("return").innerText = "yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ³â”´yMÆ’â•’Î´â‚§9yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ³";
                }, 8111); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "y(^mÃ²1â•’.ÃªâŒ â–Œ(^mâŒ â–Œ(^mÃ²1Æ’â•’Î´(^mÃ²1â•’.ÃªâŒ â–Œ(^mâŒ â–Œ(^mÃ²1â–Œ";
                    document.getElementById("return").innerText = "â•£â”´xâŒ‚Ã»wâ™£!Ã±â—™Âµ2Ã–â•£â”´xâŒ‚Ã»wâ™£!Ã±â—™Âµ2Ã–â•£â”´xâŒ‚Ã»wâ™£!Ã±â—™Âµ2Ã–";
                    document.getElementById("return").innerText = "Ã²1â•’.ÃªâŒ â–Œ(^mÃ²1â•’.ÃªâŒ â–Œ(^mÃ²1â•’.ÃªâŒ â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^m";
                    document.getElementById("return").innerText = "mâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^m";
                }, 8411); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^mmâ•’â”´yÃ²1â•’â•’â–Œ(^m";
                }, 8511); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "^mmâ•’â”´yÃ²1â•’â•’â–Œ(^";
                }, 8711); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "";
                }, 8811); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "?";
                }, 9011); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "??";
                }, 10001); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "???";
                }, 11011); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "??";
                }, 13500); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "?";
                }, 13500); 

                setTimeout(function() {
                    document.getElementById("return").innerText = "";
                }, 13750); 

                setTimeout(() => {
                    //fadeOutStarsToNothing();
                    fadeInImage();
                    document.getElementById("return").innerText = "";
                    console.log("14 seconds passed, now calling fadeInAndConnect...");
                    //startTypingAnimation();

                    // Create the div and span elements
                    //const div = document.createElement('div');
                    //div.classList.add('connected'); // Add the 'key' class to the div

                   // const span = document.createElement('span');
                    //span.style.color = '#FFF'; // Apply the style directly
                    //span.style = "box-shadow: 0px 0px 64px rgba(255,255,255,0.7);"

                    // Set the inner HTML of the div and span
                    //div.innerHTML = 'AURORA';
                    //span.textContent = 'CONNECTED';

                    // Append the span inside the div
                    //div.appendChild(span);

                    // Append the div to a container element in the DOM (e.g., the body or a specific div)
                    //document.body.appendChild(div);
                }, 14000);

                setTimeout(function() {
                    window.location.href = ""; 
                }, 25000);

                clearInterval(timerInterval); // Stop the timer
                document.getElementById("counter").innerHTML = "???";
                return;
            }
    
           // Calculate minutes, seconds, and milliseconds
            //const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
            //const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);
            //const milliseconds = timeRemaining % 1000; // Ensures milliseconds range from 0 to 999

            const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24)); // Calculate the number of days
            const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)); // Calculate hours remaining
            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60)); // Calculate minutes remaining
            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000); // Calculate seconds remaining
            const milliseconds = timeRemaining % 1000; // Calculate milliseconds remaining

            // Update the countdown display
            document.getElementById("days").textContent = String(days).padStart(2, '0'); // Render days
            document.getElementById("hours").textContent = String(hours).padStart(2, '0');
            document.getElementById("minutes").textContent = String(minutes).padStart(2, '0');
            document.getElementById("seconds").textContent = String(seconds).padStart(2, '0');
            document.getElementById("ms").textContent = String(milliseconds).padStart(3, '0'); // Adjusted for 3-digit display

        }, 10); // Update every 10ms for precision
    
        // Activate the appearance of #timeblock and #addendum by adding the 'active' class
        const addActiveClass = (elementId, delay) => {
            setTimeout(() => {
                document.body.classList.add(elementId);
            }, delay);
        }
    
        // Use function to add 'active' and 'booting' classes with specific delays
        addActiveClass('active', 500); // Add 'active' class after 500ms
        addActiveClass('booting', 1000); // Add 'booting' class after 1000ms

        let size = 11; // Starting font-size in vw
        let msSize = 4.5;
        const maxSize = 15; // Target font-size in vw
        const msMaxSize = 6;
        let interval = null; // Store interval reference

        // ðŸŸ¢ Slow Increase Function
        function increaseFontSize() {
            if (interval) return; // Prevent multiple intervals

            interval = setInterval(() => {
                if (size >= maxSize) {
                    clearInterval(interval);
                    interval = null; // Reset interval reference
                } else {
                    size += 0.05; // Slower increase
                    msSize += 0.03;
                    
                    document.getElementById("minutes").style.fontSize = `${size}vw`;
                    document.getElementById("seconds").style.fontSize = `${size + 0.7}vw`;
                    document.getElementById("seperate").style.fontSize = `${size + 0.7}vw`;
                    document.getElementById("ms").style.fontSize = `${msSize}vw`;
                }
            }, 100); // Slower updates for smooth effect
        }

        // ðŸ”´ Fast Shrink & Disappear Function
        function disappearFast() {
            clearInterval(interval); // Stop any ongoing growth
            interval = null;

            let shrinkInterval = setInterval(() => {
                if (size <= 1) { // Once small enough, hide completely
                    clearInterval(shrinkInterval);
                    document.getElementById("minutes").style.opacity = "0";
                    document.getElementById("seconds").style.opacity = "0";
                    document.getElementById("seperate").style.opacity = "0";
                    document.getElementById("ms").style.opacity = "0";
                } else {
                    size -= 0.5; // Rapid decrease
                    msSize -= 0.2;
                    
                    document.getElementById("minutes").style.fontSize = `${size}vw`;
                    document.getElementById("seconds").style.fontSize = `${size + 0.7}vw`;
                    document.getElementById("seperate").style.fontSize = `${size + 0.7}vw`;
                    document.getElementById("ms").style.fontSize = `${msSize}vw`;
                }
            }, 30); // Fast shrinking effect
        }

    </script>    
    <script>
        const canvas = document.getElementById('starCanvas');
        const ctx = canvas.getContext('2d');

        // Function to initiate fading out of all stars to nothing
        function fadeOutStarsToNothing() {
            // Gradually reduce the opacity of each star to 0
            let fadeInterval = setInterval(() => {
                stars.forEach(star => {
                    star.fadeOut -= 0.05; // Gradually decrease opacity
                    if (star.fadeOut <= 0) {
                        star.fadeOut = 0; // Ensure opacity doesn't go below 0
                    }
                });

                // If all stars are fully faded out, stop the interval
                if (stars.every(star => star.fadeOut === 0)) {
                    clearInterval(fadeInterval); // Stop the fade-out process
                }
            }, 50); // Fade out every 50 milliseconds
        }

        // Function to change star color to black and add shaking effect
        function makeStarsBlackAndShake() {
            // Add shake effect to each star with extreme shake
            stars.forEach(star => {
                const shakeX = (Math.random() - 0.5) * 100;  // Increased horizontal shake range
                const shakeY = (Math.random() - 0.5) * 100;  // Increased vertical shake range
        
                star.x += shakeX;
                star.y += shakeY;
            });
        }

        // Resize canvas to cover the entire window
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Get the user's position (this could be mouse position or a fixed point)
        let userX = canvas.width / 2;
        let userY = canvas.height / 2;

        // Initial star color
        let starColor = "rgba(255, 255, 255, 0.8)";

        // Generate stars
        const stars = [];
        for (let i = 0; i < 200; i++) {
            let x = Math.random() * canvas.width;
            let y = Math.random() * canvas.height;
            let angle = Math.atan2(y - userY, x - userX); // Calculate angle from user position
            let speed = (Math.random() * 100 + 100) * 500; // Increase speed multiplier for faster movement

            stars.push({
                x,
                y,
                angle,
                speed,
                fadeOut: Math.random() * 0.5 + 0.5, // Random opacity for each star
            });
        }

        // Function to fade out all stars
        function fadeOutStars() {
            stars.forEach(star => {
                star.fadeOut -= 0.01; // Gradually decrease opacity
                if (star.fadeOut < 0) star.fadeOut = 0; // Ensure opacity doesn't go below 0
            });
        }

        // Function to trigger extreme shake
        function startExtremeShake() {
            // Trigger extreme shake
            makeStarsBlackAndShake();
        
            // Optionally, you can trigger this with a set interval to keep shaking stars
            setInterval(makeStarsBlackAndShake, 50); // Shake every 50 milliseconds for continuous shaking
        }

        // Function to animate the stars
        function animateStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear canvas for smoother animation
            ctx.strokeStyle = starColor; // Use the dynamic star color (black if set)
            ctx.lineWidth = 2;
            ctx.shadowBlur = 8;
            ctx.shadowColor = "rgba(255, 255, 255, 0.5)";

            stars.forEach(star => {
                // Move stars away from the user's position (increase speed multiplier)
                star.x += Math.cos(star.angle) * star.speed * 1.5; // Increase speed
                star.y += Math.sin(star.angle) * star.speed * 1.5;

                // Apply fade-out effect
                ctx.globalAlpha = star.fadeOut; // Set the opacity of the star

                // Draw the star as a line (not a dot)
                let endX = star.x + Math.cos(star.angle) * 8; // Increase streak length
                let endY = star.y + Math.sin(star.angle) * 8;

                ctx.beginPath();
                ctx.moveTo(star.x, star.y);
                ctx.lineTo(endX, endY); // Draw line from the star's position
                ctx.stroke();

                // Reset star if it goes off the canvas
                if (star.x < 0 || star.x > canvas.width || star.y < 0 || star.y > canvas.height) {
                    let angle = Math.random() * Math.PI * 2;
                    let speed = (Math.random() * 3 + 1.5) * 2; // Reset with increased speed
                    star.x = userX + Math.cos(angle) * 50;
                    star.y = userY + Math.sin(angle) * 50;
                    star.angle = angle;
                    star.speed = speed;
                    star.fadeOut = Math.random() * 0.5 + 0.5; // Reset the opacity when the star is reset
                }
            });

            // Smooth the animation with requestAnimationFrame
            requestAnimationFrame(animateStars);
        }

        // Call the function to start animating the stars
        animateStars();
    </script>
</body>
</html>
